<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Get_All_Orders_from_Current_Week</name>
        <label>Get All Orders from Current Week</label>
        <locationX>176</locationX>
        <locationY>542</locationY>
        <actionName>GradientWorks__GWFXExecuteSOQLQueryAction</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Get_Queue_Users</targetReference>
        </connector>
        <dataTypeMappings>
            <typeName>U__records</typeName>
            <typeValue>Order</typeValue>
        </dataTypeMappings>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>query</name>
            <value>
                <stringValue>SELECT Id, OwnerId, Name, Closed_Owner_Division__c, PTO_Time_Commitment__c, Total_Time_Commitment__c FROM Order
WHERE Status IN (&apos;Collecting Documents&apos;, &apos;Onboarding Steps 1 - 6&apos;, &apos;Onboarding Step 7&apos;, &apos;Onboarding Step 8 - 9&apos;, &apos;Onboarding Step 10&apos;, &apos;Ready for Approval&apos;, &apos;Account Approved&apos;, &apos;Payroll Submitted&apos;, &apos;Closed: Payroll Run&apos;, &apos;Closed: Canceled&apos;, &apos;Assurance RFI&apos;, &apos;Pending&apos;)
  AND First_Check_Date__c &gt;= {!Date_Range_Start_f}
  AND First_Check_Date__c &lt;= {!Date_Range_End_f}</stringValue>
            </value>
        </inputParameters>
        <nameSegment>GradientWorks__GWFXExecuteSOQLQueryAction</nameSegment>
        <outputParameters>
            <assignToReference>All_Orders</assignToReference>
            <name>records</name>
        </outputParameters>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <apiVersion>61.0</apiVersion>
    <assignments>
        <name>Add_User_to_List</name>
        <label>Add User to List</label>
        <locationX>396</locationX>
        <locationY>3554</locationY>
        <assignmentItems>
            <assignToReference>Queue_Users_With_Capacities</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>For_Each_User</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>For_Each_User</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Increment_Reserve_Used_Capacity</name>
        <label>Increment Reserve Used Capacity</label>
        <locationX>264</locationX>
        <locationY>1730</locationY>
        <assignmentItems>
            <assignToReference>Reserve_Used_Capacity</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Team_Capacity_Overage_f</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>For_Each_Team</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Current_User_s_Used_Capacity</name>
        <label>Set Current User&apos;s Used Capacity</label>
        <locationX>264</locationX>
        <locationY>3062</locationY>
        <assignmentItems>
            <assignToReference>For_Each_User.GradientWorks__Used_Capacity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Calculate_Sum_of_Hours.weight</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Should_be_Set_to_Available</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Current_User_s_Used_Capacity_to_0</name>
        <label>Set Current User&apos;s Used Capacity to 0</label>
        <locationX>528</locationX>
        <locationY>2954</locationY>
        <assignmentItems>
            <assignToReference>For_Each_User.GradientWorks__Used_Capacity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Should_be_Set_to_Available</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Filtered_Orders</name>
        <label>Set Filtered Orders</label>
        <locationX>396</locationX>
        <locationY>2738</locationY>
        <assignmentItems>
            <assignToReference>Orders_To_Sum</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_Orders_to_Current_User</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Has_Orders</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Orders</name>
        <label>Set Orders</label>
        <locationX>396</locationX>
        <locationY>2522</locationY>
        <assignmentItems>
            <assignToReference>Orders_To_Sum</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>All_Orders</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Filter_Orders_to_Current_User</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Orders_to_Filter</name>
        <label>Set Orders to Filter</label>
        <locationX>550</locationX>
        <locationY>974</locationY>
        <assignmentItems>
            <assignToReference>Orders_To_Sum</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>All_Orders</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Filter_Orders_to_Current_Team</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Queue</name>
        <label>Set Queue</label>
        <locationX>264</locationX>
        <locationY>350</locationY>
        <assignmentItems>
            <assignToReference>Queue</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Queue_from_Input</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_All_Orders_from_Current_Week</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Reserve_Used_Capacity_on_Queue</name>
        <label>Set Reserve Used Capacity on Queue</label>
        <locationX>176</locationX>
        <locationY>2090</locationY>
        <assignmentItems>
            <assignToReference>Queue.Reserve_Used_Capacity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Reserve_Used_Capacity</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Queue.GradientWorks_Last_Capacity_Calculation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Teams</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Status_Available</name>
        <label>Set Status = Available</label>
        <locationX>264</locationX>
        <locationY>3362</locationY>
        <assignmentItems>
            <assignToReference>For_Each_User.GradientWorks__Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Available</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>For_Each_User.GradientWorks__Unavailable_Until_Time__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Add_User_to_List</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Team_Filtered_Orders</name>
        <label>Set Team Filtered Orders</label>
        <locationX>550</locationX>
        <locationY>1190</locationY>
        <assignmentItems>
            <assignToReference>Orders_To_Sum</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_Orders_to_Current_Team</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Has_Orders_for_Current_Team</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Team_s_Used_Capacity</name>
        <label>Set Team&apos;s Used Capacity</label>
        <locationX>396</locationX>
        <locationY>1514</locationY>
        <assignmentItems>
            <assignToReference>For_Each_Team.Used_Capacity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Calculate_Sum_of_Team_s_Hours.weight</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Orders_To_Sum</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>All_Orders</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Teams_To_Update</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>For_Each_Team</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Team_Over_Capacity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Team_s_Used_Capacity_to_0</name>
        <label>Set Team&apos;s Used Capacity to 0</label>
        <locationX>704</locationX>
        <locationY>1406</locationY>
        <assignmentItems>
            <assignToReference>For_Each_Team.Used_Capacity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Orders_To_Sum</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>All_Orders</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Teams_To_Update</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>For_Each_Team</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>For_Each_Team</targetReference>
        </connector>
    </assignments>
    <collectionProcessors>
        <name>Filter_Orders_to_Current_Team</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter Orders to Current Team</label>
        <locationX>550</locationX>
        <locationY>1082</locationY>
        <assignNextValueToReference>currentItem_Filter_Orders_to_Current_Team</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Orders_To_Sum</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Filter_Orders_to_Current_Team.Closed_Owner_Division__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <elementReference>For_Each_Team.Team_Division_Names__c</elementReference>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Set_Team_Filtered_Orders</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Filter_Orders_to_Current_User</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter Orders to Current User</label>
        <locationX>396</locationX>
        <locationY>2630</locationY>
        <assignNextValueToReference>currentItem_Filter_Orders_to_Current_User</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Orders_To_Sum</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Filter_Orders_to_Current_User.OwnerId</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <elementReference>For_Each_User.GradientWorks__User__c</elementReference>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Set_Filtered_Orders</targetReference>
        </connector>
    </collectionProcessors>
    <decisions>
        <name>Has_Orders</name>
        <label>Has Orders?</label>
        <locationX>396</locationX>
        <locationY>2846</locationY>
        <defaultConnector>
            <targetReference>Set_Current_User_s_Used_Capacity_to_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>Has_Orders_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Orders_To_Sum</leftValueReference>
                <operator>IsEmpty</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Calculate_Sum_of_Hours</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_Orders_for_Current_Team</name>
        <label>Has Orders for Current Team?</label>
        <locationX>550</locationX>
        <locationY>1298</locationY>
        <defaultConnector>
            <targetReference>Set_Team_s_Used_Capacity_to_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>Has_Orders_for_Current_Team_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Orders_To_Sum</leftValueReference>
                <operator>IsEmpty</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Calculate_Sum_of_Team_s_Hours</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>Scheduled_or_Synchronous</name>
        <label>Scheduled or Synchronous?</label>
        <locationX>176</locationX>
        <locationY>134</locationY>
        <defaultConnector>
            <targetReference>Get_Queue_from_Input</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Synchronous</defaultConnectorLabel>
        <rules>
            <name>Scheduled_or_Synchronous_Scheduled</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Order</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Queue</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_All_Orders_from_Current_Week</targetReference>
            </connector>
            <label>Scheduled</label>
        </rules>
    </decisions>
    <decisions>
        <name>Should_be_Set_to_Available</name>
        <label>Should be Set to Available?</label>
        <locationX>396</locationX>
        <locationY>3254</locationY>
        <defaultConnector>
            <targetReference>Add_User_to_List</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>Should_be_Set_to_Available_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>For_Each_User.GradientWorks__Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Unavailable</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>For_Each_User.GradientWorks__Unavailable_Until_Time__c</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <elementReference>$Flow.CurrentDateTime</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Status_Available</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>Team_Over_Capacity</name>
        <label>Team Over Capacity?</label>
        <locationX>396</locationX>
        <locationY>1622</locationY>
        <defaultConnector>
            <targetReference>For_Each_Team</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>Team_Over_Capacity_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>For_Each_Team.Max_Capacity__c</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <elementReference>For_Each_Team.Used_Capacity__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Increment_Reserve_Used_Capacity</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <description>GW - Updated to include calculation of unavailable reps</description>
    <environments>Default</environments>
    <formulas>
        <name>Date_Range_End_f</name>
        <dataType>String</dataType>
        <expression>TEXT(YEAR({!Queue.Order_Assignment_End_Date__c}))  + &apos;-&apos; + 
IF(LEN(TEXT(MONTH({!Queue.Order_Assignment_End_Date__c}))) = 1, &apos;0&apos; + TEXT(MONTH({!Queue.Order_Assignment_End_Date__c})), TEXT(MONTH({!Queue.Order_Assignment_End_Date__c})))
 + &apos;-&apos; + IF(LEN(TEXT(DAY({!Queue.Order_Assignment_End_Date__c}))) = 1, &apos;0&apos; + TEXT(DAY({!Queue.Order_Assignment_End_Date__c})), TEXT(DAY({!Queue.Order_Assignment_End_Date__c})))</expression>
    </formulas>
    <formulas>
        <name>Date_Range_Start_f</name>
        <dataType>String</dataType>
        <expression>TEXT(YEAR({!Queue.Order_Assignment_Start_Date__c}))  + &apos;-&apos; + 
IF(LEN(TEXT(MONTH({!Queue.Order_Assignment_Start_Date__c}))) = 1, &apos;0&apos; + TEXT(MONTH({!Queue.Order_Assignment_Start_Date__c})), TEXT(MONTH({!Queue.Order_Assignment_Start_Date__c})))
 + &apos;-&apos; + IF(LEN(TEXT(DAY({!Queue.Order_Assignment_Start_Date__c}))) = 1, &apos;0&apos; + TEXT(DAY({!Queue.Order_Assignment_Start_Date__c})), TEXT(DAY({!Queue.Order_Assignment_Start_Date__c})))</expression>
    </formulas>
    <formulas>
        <name>Next_N_Weeks_f</name>
        <dataType>String</dataType>
        <expression>IF(
  {!Week_By_Number_f} = 0, &apos;THIS_WEEK&apos;, 
  IF({!Week_By_Number_f} = 1, &apos;NEXT_WEEK&apos;,
    &apos;NEXT_N_WEEKS:&apos; + TEXT({!Week_By_Number_f}) + &apos; AND &apos; + &apos;Work_Start_Date__c &gt; &apos; + &apos;NEXT_N_WEEKS:&apos; + 
    TEXT({!Week_By_Number_f} - 1)
  )
)</expression>
    </formulas>
    <formulas>
        <name>Team_Capacity_Overage_f</name>
        <dataType>Number</dataType>
        <expression>{!For_Each_Team.Used_Capacity__c} - {!For_Each_Team.Max_Capacity__c}</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>Week_By_Number_f</name>
        <dataType>Number</dataType>
        <expression>IF(ISBLANK({!Order.Id}), VALUE(RIGHT({!Queue.Name}, 1)),
ISOWEEK({!Order.Work_Start_Date__c}) - ISOWEEK({!$Flow.CurrentDate})
)</expression>
        <scale>0</scale>
    </formulas>
    <interviewLabel>GW - Calculate Queue User Capacity {!$Flow.CurrentDateTime}</interviewLabel>
    <label>GW - PT - Calculate Queue User Capacities - Process</label>
    <loops>
        <name>For_Each_Team</name>
        <label>For Each Team</label>
        <locationX>176</locationX>
        <locationY>866</locationY>
        <collectionReference>Get_Teams_From_Current_Week</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Set_Orders_to_Filter</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Set_Reserve_Used_Capacity_on_Queue</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>For_Each_User</name>
        <label>For Each User</label>
        <locationX>176</locationX>
        <locationY>2414</locationY>
        <collectionReference>Get_Queue_Users</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Set_Orders</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_Used_Capacities</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_Queue_from_Input</name>
        <label>Get Queue from Input</label>
        <locationX>264</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_Queue</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>StartsWith</operator>
            <value>
                <stringValue>PT - Orders Queue</stringValue>
            </value>
        </filters>
        <filters>
            <field>Order_Assignment_Start_Date__c</field>
            <operator>LessThanOrEqualTo</operator>
            <value>
                <elementReference>Order.First_Check_Date__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Order_Assignment_End_Date__c</field>
            <operator>GreaterThanOrEqualTo</operator>
            <value>
                <elementReference>Order.First_Check_Date__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>GradientWorks__Queue__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Queue_Users</name>
        <label>Get Queue Users</label>
        <locationX>176</locationX>
        <locationY>650</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Teams_From_Current_Week</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>GradientWorks__Queue__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Queue.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>GradientWorks__QueueUser__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Teams_From_Current_Week</name>
        <label>Get Teams From Current Week</label>
        <locationX>176</locationX>
        <locationY>758</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>For_Each_Team</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>GradientWorks_Queue__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Queue.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>PT_Order_Team_Capacity__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Queue</name>
        <label>Update Queue</label>
        <locationX>176</locationX>
        <locationY>2306</locationY>
        <connector>
            <targetReference>For_Each_User</targetReference>
        </connector>
        <inputReference>Queue</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Teams</name>
        <label>Update Teams</label>
        <locationX>176</locationX>
        <locationY>2198</locationY>
        <connector>
            <targetReference>Update_Queue</targetReference>
        </connector>
        <inputReference>Teams_To_Update</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Used_Capacities</name>
        <label>Update Used Capacities</label>
        <locationX>176</locationX>
        <locationY>3746</locationY>
        <inputReference>Queue_Users_With_Capacities</inputReference>
    </recordUpdates>
    <start>
        <locationX>50</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Scheduled_or_Synchronous</targetReference>
        </connector>
    </start>
    <status>InvalidDraft</status>
    <transforms>
        <name>Calculate_Sum_of_Hours</name>
        <label>Calculate Sum of Hours</label>
        <locationX>264</locationX>
        <locationY>2954</locationY>
        <apexClass>GradientWorks__QueueUserWeight</apexClass>
        <connector>
            <targetReference>Set_Current_User_s_Used_Capacity</targetReference>
        </connector>
        <dataType>Apex</dataType>
        <isCollection>false</isCollection>
        <scale>0</scale>
        <transformValues>
            <transformValueActions>
                <outputFieldApiName>weight</outputFieldApiName>
                <transformType>Sum</transformType>
            </transformValueActions>
        </transformValues>
    </transforms>
    <transforms>
        <name>Calculate_Sum_of_Team_s_Hours</name>
        <label>Calculate Sum of Team&apos;s Hours</label>
        <locationX>396</locationX>
        <locationY>1406</locationY>
        <apexClass>GradientWorks__QueueUserWeight</apexClass>
        <connector>
            <targetReference>Set_Team_s_Used_Capacity</targetReference>
        </connector>
        <dataType>Apex</dataType>
        <isCollection>false</isCollection>
        <scale>0</scale>
        <transformValues>
            <transformValueActions>
                <outputFieldApiName>weight</outputFieldApiName>
                <transformType>Sum</transformType>
            </transformValueActions>
        </transformValues>
    </transforms>
    <variables>
        <name>All_Orders</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Order</objectType>
    </variables>
    <variables>
        <name>currentItem_Filter_Orders_to_Current_Team</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Order</objectType>
    </variables>
    <variables>
        <name>currentItem_Filter_Orders_to_Current_User</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Order</objectType>
    </variables>
    <variables>
        <name>Order</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Order</objectType>
    </variables>
    <variables>
        <name>Orders_To_Sum</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Order</objectType>
    </variables>
    <variables>
        <name>Queue</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>GradientWorks__Queue__c</objectType>
    </variables>
    <variables>
        <name>Queue_Users_With_Capacities</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>GradientWorks__QueueUser__c</objectType>
    </variables>
    <variables>
        <name>Reserve_Used_Capacity</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>Teams_To_Update</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>PT_Order_Team_Capacity__c</objectType>
    </variables>
    <variables>
        <name>Used_Capacity</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
</Flow>
