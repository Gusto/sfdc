<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>49.0</apiVersion>
    <assignments>
        <name>Assign_Company_ID</name>
        <label>Assign Company ID</label>
        <locationX>360</locationX>
        <locationY>410</locationY>
        <assignmentItems>
            <assignToReference>Lead.ZP_Company_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ZP_Company_Record.ID__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Lead</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Company_Name</name>
        <label>Assign Company Name</label>
        <locationX>186</locationX>
        <locationY>819</locationY>
        <assignmentItems>
            <assignToReference>New_Account.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Lead.Company</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_other_Account_Fields</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Assign fields for new oppty record</description>
        <name>Assign_Fields_for_Opportunity</name>
        <label>Assign Fields for Opportunity</label>
        <locationX>2133</locationX>
        <locationY>328</locationY>
        <assignmentItems>
            <assignToReference>New_Opportunity.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Oppty_Name</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>New_Opportunity.AccountId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>New_Account.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>New_Opportunity.ZP_Company_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ZP_Company_Record.ID__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>New_Opportunity.StageName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>SAL</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>New_Opportunity.CloseDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Close_Date</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>New_Opportunity.OwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Lead.OwnerId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Oppty</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Lead_Name_to_Company</name>
        <label>Assign Lead Name to Company</label>
        <locationX>548</locationX>
        <locationY>823</locationY>
        <assignmentItems>
            <assignToReference>New_Account.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Lead.Name</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_other_Account_Fields</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_other_Account_Fields</name>
        <label>Assign other Account Fields</label>
        <locationX>371</locationX>
        <locationY>1049</locationY>
        <assignmentItems>
            <assignToReference>New_Account.ZP_Company_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ZP_Company_Record.ID__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>New_Account.OwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Lead.OwnerId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_the_account</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Change_Owner_Id</name>
        <label>Change Owner Id</label>
        <locationX>3425</locationX>
        <locationY>287</locationY>
        <assignmentItems>
            <assignToReference>Valid_oppty.Owner_Id__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Lead.OwnerId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>update_valid_oppty_owner_id</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Get_Total</name>
        <label>Get Total</label>
        <locationX>3596</locationX>
        <locationY>553</locationY>
        <assignmentItems>
            <assignToReference>Number_of_opptys</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>List_of_opptys</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Was_oppty_deleted</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Oppty_Was_Deleted</name>
        <label>Oppty_Was_Deleted</label>
        <locationX>3483</locationX>
        <locationY>737</locationY>
        <assignmentItems>
            <assignToReference>Deleted_Message</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>The temporary opportunity was successfully deleted.</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Success_Message</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Oppty_was_not_deleted</name>
        <label>Oppty was not deleted</label>
        <locationX>3726</locationX>
        <locationY>715</locationY>
        <assignmentItems>
            <assignToReference>Deleted_Message</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Oppty_Not_Created_Message</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Success_Message</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>ReprocessCompany</name>
        <label>ReprocessCompany</label>
        <locationX>1182</locationX>
        <locationY>113</locationY>
        <assignmentItems>
            <assignToReference>ZP_Company_Record.Message__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Reprocess</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>UpdateCompanyFromProcessOnly</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_Count</name>
        <label>Reset Count</label>
        <locationX>2656</locationX>
        <locationY>869</locationY>
        <assignmentItems>
            <assignToReference>Counter</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Stage_Company_Reprocess</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Stage_Company_Reprocess</name>
        <label>Stage Company Reprocess</label>
        <locationX>2132</locationX>
        <locationY>873</locationY>
        <assignmentItems>
            <assignToReference>ZP_Company_Record.Message__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Reprocess</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Reprocess_ZP_Company</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_Count</name>
        <label>Update Count</label>
        <locationX>3197</locationX>
        <locationY>853</locationY>
        <assignmentItems>
            <assignToReference>Counter</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Three_Times</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>How_to_process</name>
        <label>How to process</label>
        <locationX>1025</locationX>
        <locationY>424</locationY>
        <defaultConnector>
            <targetReference>EndEarly</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>End</defaultConnectorLabel>
        <rules>
            <name>CreateandReprocess</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Create_Records_and_Reprocess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Company_ID</targetReference>
            </connector>
            <label>CreateandReprocess</label>
        </rules>
        <rules>
            <name>Reprocess</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Reprocess_Only</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ReprocessCompany</targetReference>
            </connector>
            <label>Reprocess</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_there_an_account_name</name>
        <label>Is there an account name</label>
        <locationX>364</locationX>
        <locationY>735</locationY>
        <defaultConnector>
            <targetReference>Assign_Lead_Name_to_Company</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Company Name</defaultConnectorLabel>
        <rules>
            <name>Account_Name_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Lead.Company</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Company_Name</targetReference>
            </connector>
            <label>Account Name Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Processing_Complete</name>
        <label>Processing Complete?</label>
        <locationX>3025</locationX>
        <locationY>455</locationY>
        <defaultConnector>
            <targetReference>Not_Processed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Still Not Processed</defaultConnectorLabel>
        <rules>
            <name>State_Processesed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Updated_Company.Processing_State__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Processed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_Duplicate_Oppty</targetReference>
            </connector>
            <label>State = Processesed</label>
        </rules>
        <rules>
            <name>OpportunityIdisnotgenerated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Updated_Company.Message__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>OpportunityId is not generated</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reset_Count</targetReference>
            </connector>
            <label>OpportunityId is not generated</label>
        </rules>
    </decisions>
    <decisions>
        <name>Three_Times</name>
        <label>Three Times?</label>
        <locationX>3024</locationX>
        <locationY>843</locationY>
        <defaultConnector>
            <targetReference>EndEarly_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>End</defaultConnectorLabel>
        <rules>
            <name>CounterLessthan3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Counter</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <numberValue>3.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CompanyWithNewState</targetReference>
            </connector>
            <label>CounterLessthan3</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_oppty_deleted</name>
        <label>Was oppty deleted</label>
        <locationX>3592</locationX>
        <locationY>663</locationY>
        <defaultConnector>
            <targetReference>Oppty_was_not_deleted</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Number_of_opptys</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Oppty_Was_Deleted</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <description>Created for the 201 errors that are often encountered when processing records with Sold By or Referred By populated on the lead record.   This also has the option of just reprocessing the ZP Company record.   Just enter the Salesforce ID on the first screen and follow the steps.</description>
    <formulas>
        <name>Close_Date</name>
        <dataType>Date</dataType>
        <expression>{!$Flow.CurrentDate} + 10</expression>
    </formulas>
    <formulas>
        <name>Oppty_Name</name>
        <dataType>String</dataType>
        <expression>{!New_Account.Name} &amp; &quot;- Payroll&quot;</expression>
    </formulas>
    <formulas>
        <name>Oppty_Not_Created_Message</name>
        <dataType>String</dataType>
        <expression>&quot;The temporary opportunity was not deleted.   Please delete the temporary opportunity and check the account.  &quot; &amp;
&quot;Temporary Opportunity ID: &quot; &amp;  {!New_Opportunity.Id} &amp;
&quot;Account ID: &quot; &amp;  {!New_Account.Id}</expression>
    </formulas>
    <interviewLabel>SOQL 201 ZP Company Work Around {!$Flow.CurrentDateTime}</interviewLabel>
    <label>SOQL 201 ZP Company Work Around</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Create_Oppty</name>
        <label>Create_Oppty</label>
        <locationX>2131</locationX>
        <locationY>524</locationY>
        <connector>
            <targetReference>Display_Record_Information</targetReference>
        </connector>
        <inputReference>New_Opportunity</inputReference>
    </recordCreates>
    <recordCreates>
        <description>Create the account for the ZP Company Record</description>
        <name>Create_the_account</name>
        <label>Create the account</label>
        <locationX>376</locationX>
        <locationY>1174</locationY>
        <connector>
            <targetReference>Assign_Fields_for_Opportunity</targetReference>
        </connector>
        <inputReference>New_Account</inputReference>
    </recordCreates>
    <recordDeletes>
        <name>Delete_Duplicate_Oppty</name>
        <label>Delete Duplicate Oppty</label>
        <locationX>3036</locationX>
        <locationY>287</locationY>
        <connector>
            <targetReference>Find_Valid_Oppty</targetReference>
        </connector>
        <inputReference>New_Opportunity</inputReference>
    </recordDeletes>
    <recordLookups>
        <description>Get record with Possessing State</description>
        <name>CompanyWithNewState</name>
        <label>CompanyWithNewState</label>
        <locationX>2515</locationX>
        <locationY>321</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Processing_Complete</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ZP_Company_ID</elementReference>
            </value>
        </filters>
        <object>ZP_Company__c</object>
        <outputReference>Updated_Company</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Processing_State__c</queriedFields>
        <queriedFields>Message__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Find_the_lead</name>
        <label>Find the lead</label>
        <locationX>518</locationX>
        <locationY>234</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Display_the_lead</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Email</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ZP_Company_Record.Created_By_Email__c</elementReference>
            </value>
        </filters>
        <object>Lead</object>
        <outputReference>Lead</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Name</queriedFields>
        <queriedFields>OwnerId</queriedFields>
        <queriedFields>ZP_Company_ID__c</queriedFields>
        <queriedFields>Email</queriedFields>
        <queriedFields>Company</queriedFields>
        <queriedFields>Sold_By__c</queriedFields>
        <queriedFields>Referred_By__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Find_Valid_Oppty</name>
        <label>Find Valid Oppty</label>
        <locationX>3244</locationX>
        <locationY>287</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Change_Owner_Id</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>New_Account.Id</elementReference>
            </value>
        </filters>
        <object>Opportunity</object>
        <outputReference>Valid_oppty</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>OwnerId</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>Test to see if the oppty created for this issue has been created.</description>
        <name>Test_for_Deleted_Oppty</name>
        <label>Test for Deleted Oppty</label>
        <locationX>3598</locationX>
        <locationY>445</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Total</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>New_Account.Id</elementReference>
            </value>
        </filters>
        <object>Opportunity</object>
        <outputReference>List_of_opptys</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>ZP_Company_Record_Search</name>
        <label>ZP Company Record Search</label>
        <locationX>355</locationX>
        <locationY>243</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Find_the_lead</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ZP_Company_ID</elementReference>
            </value>
        </filters>
        <object>ZP_Company__c</object>
        <outputReference>ZP_Company_Record</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>ID__c</queriedFields>
        <queriedFields>Created_By_Email__c</queriedFields>
        <queriedFields>Processing_State__c</queriedFields>
        <queriedFields>Message__c</queriedFields>
    </recordLookups>
    <recordUpdates>
        <name>Reprocess_ZP_Company</name>
        <label>Reprocess ZP Company</label>
        <locationX>2207</locationX>
        <locationY>1044</locationY>
        <connector>
            <targetReference>CompanyWithNewState</targetReference>
        </connector>
        <inputReference>ZP_Company_Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Lead</name>
        <label>Update Lead</label>
        <locationX>363</locationX>
        <locationY>571</locationY>
        <connector>
            <targetReference>Is_there_an_account_name</targetReference>
        </connector>
        <inputReference>Lead</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>update_valid_oppty_owner_id</name>
        <label>update valid oppty owner id</label>
        <locationX>3598</locationX>
        <locationY>294</locationY>
        <connector>
            <targetReference>Test_for_Deleted_Oppty</targetReference>
        </connector>
        <inputReference>Valid_oppty</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateCompanyFromProcessOnly</name>
        <label>UpdateCompanyFromProcessOnly</label>
        <locationX>856</locationX>
        <locationY>113</locationY>
        <connector>
            <targetReference>Reproccess_Screen</targetReference>
        </connector>
        <inputReference>ZP_Company_Record</inputReference>
    </recordUpdates>
    <screens>
        <name>Display_Record_Information</name>
        <label>Display Record Information</label>
        <locationX>2132</locationX>
        <locationY>676</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Stage_Company_Reprocess</targetReference>
        </connector>
        <fields>
            <name>Display_Information</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 14px;&quot;&gt;The Following Changes Were Made&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Data_Update_List</name>
            <fieldText>&lt;p&gt;&lt;u&gt;Lead Changes for   {!Lead.Name}&lt;/u&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Company ID = {!Lead.ZP_Company_ID__c}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;u&gt;Account Creation&lt;/u&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Account ID = {!New_Account.Id}&lt;/p&gt;&lt;p&gt;Account Name = {!New_Account.Name}&lt;/p&gt;&lt;p&gt;Account Company ID = {!New_Account.ZP_Company_ID__c}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;u&gt;Opportunity Creation&lt;/u&gt;&lt;/p&gt;&lt;p&gt;Opportunity ID = {!New_Opportunity.Id}&lt;/p&gt;&lt;p&gt;Opportunity Name = {!New_Opportunity.Name}&lt;/p&gt;&lt;p&gt;Opportunity Company ID = {!New_Opportunity.ZP_Company_ID__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Proccessing_Message</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;color: rgb(24, 24, 186); font-size: 18px;&quot;&gt;Click next to reprocess the ZP Company record&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Display_the_lead</name>
        <label>Display the lead</label>
        <locationX>938</locationX>
        <locationY>239</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>How_to_process</targetReference>
        </connector>
        <fields>
            <name>Display_Lead</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 16px;&quot;&gt;&lt;u&gt;Lead Information&lt;/u&gt;&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;Lead Name:  &lt;/b&gt;  {!Lead.Name}&lt;/p&gt;&lt;p&gt;&lt;b&gt;Salesforce ID: &lt;/b&gt; {!Lead}&lt;/p&gt;&lt;p&gt;&lt;b&gt;Email:   &lt;/b&gt;{!Lead.Email}&lt;/p&gt;&lt;p&gt;&lt;b&gt;Company Name: &lt;/b&gt;   {!Lead.Company}&lt;/p&gt;&lt;p&gt;&lt;b&gt;Sold by: &lt;/b&gt; {!Lead.Sold_By__c}&lt;/p&gt;&lt;p&gt;&lt;b&gt;Referred By: &lt;/b&gt; {!Lead.Referred_By__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>ZP_Company_Info</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 14px;&quot;&gt;&lt;u&gt;ZP Company Information&lt;/u&gt;&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;Company ID:     &lt;/b&gt;{!ZP_Company_Record.ID__c}&lt;/p&gt;&lt;p&gt;&lt;b&gt;Created By Email:    &lt;/b&gt;{!ZP_Company_Record.Created_By_Email__c}&lt;/p&gt;&lt;p&gt;&lt;b&gt;Processing State:    &lt;/b&gt;{!ZP_Company_Record.Processing_State__c}&lt;/p&gt;&lt;p&gt;&lt;b&gt;Message:    &lt;/b&gt;{!ZP_Company_Record.Message__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Create_Records_and_Reprocess</name>
            <dataType>Boolean</dataType>
            <fieldText>Create Records and Reprocess</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Reprocess_Only</name>
            <dataType>Boolean</dataType>
            <fieldText>Reprocess Only</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Exit</name>
            <dataType>Boolean</dataType>
            <fieldText>Exit</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Note</name>
            <fieldText>&lt;p&gt;&lt;i style=&quot;font-family: sans-serif; color: rgb(28, 76, 205);&quot;&gt;If &lt;/i&gt;&lt;b style=&quot;font-family: sans-serif; color: rgb(28, 76, 205);&quot;&gt;&lt;i&gt;Sold By &lt;/i&gt;&lt;/b&gt;&lt;i style=&quot;font-family: sans-serif; color: rgb(28, 76, 205);&quot;&gt;or &lt;/i&gt;&lt;b style=&quot;font-family: sans-serif; color: rgb(28, 76, 205);&quot;&gt;&lt;i&gt;Referred By&lt;/i&gt;&lt;/b&gt;&lt;i style=&quot;font-family: sans-serif; color: rgb(28, 76, 205);&quot;&gt; does not have an ID, this workaround is not designed for this record.&amp;nbsp;Choose the option to reprocess and if it doesn&apos;t process contact a developer.&amp;nbsp;&amp;nbsp;&lt;/i&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>EndEarly</name>
        <label>EndEarly</label>
        <locationX>1031</locationX>
        <locationY>612</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>endearlymsg</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Done&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>EndEarly_0</name>
        <label>EndEarly</label>
        <locationX>3029</locationX>
        <locationY>1074</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>endearlymsg_0</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;color: rgb(205, 18, 18); font-size: 18px;&quot;&gt;RECORD DID NOT PROCESS &lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Maximum Attempts = {!Counter}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(231, 20, 20);&quot;&gt;The process was not completed.  Please check the Account for issues.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(231, 20, 20);&quot;&gt;Account ID:  {!New_Account.Id}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 20px;&quot;&gt;Done&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Enter_ZP_Company_Salesforce_ID</name>
        <label>Enter ZP Company Salesforce ID</label>
        <locationX>182</locationX>
        <locationY>241</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>ZP_Company_Record_Search</targetReference>
        </connector>
        <fields>
            <name>ZP_Company_ID</name>
            <dataType>String</dataType>
            <fieldText>ZP Company ID</fieldText>
            <fieldType>InputField</fieldType>
            <helpText>&lt;p&gt;Enter the Salesforce Record ID of the ZP Company record. &lt;/p&gt;</helpText>
            <isRequired>false</isRequired>
        </fields>
        <helpText>&lt;p&gt;Enter ID of ZP Company record that appears to not be processing due to SOQL limitations&lt;/p&gt;</helpText>
        <pausedText>&lt;p&gt;rerrerere&lt;/p&gt;</pausedText>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Not_Processed</name>
        <label>Not Processed</label>
        <locationX>3331</locationX>
        <locationY>853</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Update_Count</targetReference>
        </connector>
        <fields>
            <name>Try_Again_Text</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;color: rgb(49, 25, 73);&quot;&gt;The company has not processed.  Please wait 30 seconds and click next again.&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Do not close window.  Wait and repeat until you reach the &lt;b&gt;Processed&lt;/b&gt; or &lt;b style=&quot;font-size: 12px; color: rgb(8, 8, 8);&quot;&gt;RECORD DID NOT PROCESS  &lt;/b&gt;&lt;span style=&quot;font-size: 12px; color: rgb(8, 8, 8);&quot;&gt;message&lt;/span&gt;&lt;b style=&quot;font-size: 12px; color: rgb(8, 8, 8);&quot;&gt;.&lt;/b&gt;&lt;b style=&quot;font-size: 18px; color: rgb(205, 18, 18);&quot;&gt; &lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(0, 0, 0);&quot;&gt;Current Message:&lt;/b&gt;  {!Updated_Company.Message__c}&lt;/p&gt;&lt;p&gt;&lt;b&gt;Current Processing State: &lt;/b&gt; {!Updated_Company.Processing_State__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Reproccess_Screen</name>
        <label>Reproccess_Screen</label>
        <locationX>648</locationX>
        <locationY>113</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Reprocess_Message</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;color: rgb(16, 180, 101); font-size: 20px; font-family: verdana;&quot;&gt;The record has been repossessed&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Success_Message</name>
        <label>Success Message</label>
        <locationX>3607</locationX>
        <locationY>872</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Success_Text</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-family: verdana; font-size: 20px; color: rgb(64, 182, 24);&quot;&gt;The record has successfully processed!!&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Deleted_Message_display</name>
            <fieldText>&lt;p&gt;{!Deleted_Message}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <startElementReference>Enter_ZP_Company_Salesforce_ID</startElementReference>
    <status>Active</status>
    <variables>
        <name>AssignRecordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>ZP_Company_ID</elementReference>
        </value>
    </variables>
    <variables>
        <name>Counter</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>Deleted_Message</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Deleted_Oppty</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>Lead</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Lead</objectType>
    </variables>
    <variables>
        <name>List_of_opptys</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>New_Account</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Account</objectType>
    </variables>
    <variables>
        <name>New_Opportunity</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>Number_of_opptys</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>Oppys_On_Account</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>Updated_Company</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ZP_Company__c</objectType>
    </variables>
    <variables>
        <name>Valid_oppty</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>ZP_Company_Record</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ZP_Company__c</objectType>
    </variables>
</Flow>
