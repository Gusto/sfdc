<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>58.0</apiVersion>
    <assignments>
        <name>Accountant_Persona</name>
        <label>Accountant Persona</label>
        <locationX>369</locationX>
        <locationY>755</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Persona__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Accountant</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Company_Size__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Default_Routing_Team</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Admin_Persona</name>
        <label>Admin Persona</label>
        <locationX>1161</locationX>
        <locationY>755</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Persona__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Admin</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Company_Size_Assignment</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Auto_Solve_Status</name>
        <label>Assign Auto-Solve Status</label>
        <locationX>1007</locationX>
        <locationY>3179</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Auto_Solve_Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Eligible</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Validate_Skill_Routing_Fields</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>To assign the value of Case In Route field before its get updated to false in this flow.</description>
        <name>Assign_Case_In_Route_value</name>
        <label>Assign Case In Route value</label>
        <locationX>1293</locationX>
        <locationY>2639</locationY>
        <assignmentItems>
            <assignToReference>IsCaseInRoute</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Case_In_Route__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Case_Re_routed</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Case_Owner</name>
        <label>Assign Case Owner</label>
        <locationX>1260</locationX>
        <locationY>3287</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.OwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Setup.Engagement_Flow_Configuration__c.Engagement_Cases_Queue_ID__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Specialization_Exists</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_CaseInRoute_and_Status_Fields</name>
        <label>Assign CaseInRoute and Status Fields</label>
        <locationX>864</locationX>
        <locationY>2855</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Case_In_Route__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>In Progress</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Case_TAM_present</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Company_Size_Pillar_Values</name>
        <label>Assign Company Size Pillar Values</label>
        <locationX>314</locationX>
        <locationY>4271</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Case_Pillar__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Company_Size_Mapping.Pillar__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Sub_Pillar__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Company_Size_Mapping.Sub_Pillar__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.WFM_Queue_Tag__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Company_Size_Mapping.WFM_Queue_Tag__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Pillar_Key__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Company_Size_Mapping.Pillar_Key__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Sub_Pillar_Key__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Company_Size_Mapping.Sub_Pillar_Key__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Case_fields</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Assign Default Type &apos;Payroll&apos; to a case that has Type not populated.</description>
        <name>Assign_Default_Type</name>
        <label>Assign Default Type</label>
        <locationX>1293</locationX>
        <locationY>2147</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Type</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Payroll</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>RecordType_Engagement</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Update Case Record Type to Engagement</description>
        <name>Assign_Engagement_RecordType</name>
        <label>Assign Engagement RecordType</label>
        <locationX>1161</locationX>
        <locationY>2447</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Setup.Engagement_Flow_Configuration__c.Engagement_RecordType_ID__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Case_In_Route_value</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_initial_fields_values</name>
        <label>Assign initial fields values</label>
        <locationX>1293</locationX>
        <locationY>539</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Persona__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Persona__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Company_Size__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Company_Size__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Routing_Team__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Routing_Team__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Support_Level__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Support_Level__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Type</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Type</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Specialization__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Specialization__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Persona_Assignment</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Persona_Pillar_Values</name>
        <label>Assign Persona Pillar Values</label>
        <locationX>50</locationX>
        <locationY>4271</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Case_Pillar__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Persona_Mapping.Pillar__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Sub_Pillar__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Persona_Mapping.Sub_Pillar__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.WFM_Queue_Tag__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Persona_Mapping.WFM_Queue_Tag__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Pillar_Key__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Persona_Mapping.Pillar_Key__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Sub_Pillar_Key__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Persona_Mapping.Sub_Pillar_Key__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Case_fields</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Pillar_Values</name>
        <label>Assign Pillar Values</label>
        <locationX>1282</locationX>
        <locationY>4079</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Case_Pillar__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Pillar_Mapping_with_Company_Size.Pillar__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Sub_Pillar__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Pillar_Mapping_with_Company_Size.Sub_Pillar__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.WFM_Queue_Tag__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Pillar_Mapping_with_Company_Size.WFM_Queue_Tag__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Pillar_Key__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Pillar_Mapping_with_Company_Size.Pillar_Key__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Sub_Pillar_Key__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Pillar_Mapping_with_Company_Size.Sub_Pillar_Key__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Case_fields</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Pillar_Values_WO_Company_Size</name>
        <label>Assign Pillar Values WO Company Size</label>
        <locationX>1018</locationX>
        <locationY>4079</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Case_Pillar__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Pillar_Mapping_WO_Company_Size.Pillar__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Sub_Pillar__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Pillar_Mapping_WO_Company_Size.Sub_Pillar__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.WFM_Queue_Tag__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Pillar_Mapping_WO_Company_Size.WFM_Queue_Tag__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Pillar_Key__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Pillar_Mapping_WO_Company_Size.Pillar_Key__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Sub_Pillar_Key__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Pillar_Mapping_WO_Company_Size.Sub_Pillar_Key__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Case_fields</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Routing_team_external_member</name>
        <label>Assign Routing team external</label>
        <locationX>1029</locationX>
        <locationY>1463</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Routing_Team__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>External</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Support_Level_NULL</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Routing_team_external_micro</name>
        <label>Assign Routing team external</label>
        <locationX>765</locationX>
        <locationY>1463</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Routing_Team__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>External</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Support_Level_NULL</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Routing_Team_Internal</name>
        <label>Assign Routing Team Internal</label>
        <locationX>1293</locationX>
        <locationY>1463</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Routing_Team__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Internal</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Support_Level_NULL</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Specialization_Pillar_Values</name>
        <label>Assign Specialization Pillar Values</label>
        <locationX>578</locationX>
        <locationY>4271</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Case_Pillar__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Specialization_Mapping.Pillar__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Sub_Pillar__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Specialization_Mapping.Sub_Pillar__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.WFM_Queue_Tag__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Specialization_Mapping.WFM_Queue_Tag__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Pillar_Key__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Specialization_Mapping.Pillar_Key__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Sub_Pillar_Key__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Specialization_Mapping.Sub_Pillar_Key__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Case_fields</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>As TAM user is unavailable, assign Case Specialization to TAM Accountant Skill and Engagement Cases queue</description>
        <name>Assign_TAM_Accountant_Skill_and_Owner</name>
        <label>Assign TAM Accountant Skill and Owner</label>
        <locationX>556</locationX>
        <locationY>3287</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Specialization__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>TAM Accountant</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.OwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Setup.Engagement_Flow_Configuration__c.Engagement_Cases_Queue_ID__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Specialization_Exists</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_TAM_Present</name>
        <label>Assign TAM Present</label>
        <locationX>292</locationX>
        <locationY>3287</locationY>
        <assignmentItems>
            <assignToReference>blnTAMPresent</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Specialization_Exists</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>As TAM user is unavailable, assign Case Specialization to TAM Premier Skill and Engagement Cases queue</description>
        <name>Assign_TAM_Skill_and_Owner</name>
        <label>Assign TAM Premier Skill and Owner</label>
        <locationX>820</locationX>
        <locationY>3287</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Specialization__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>TAM Premier</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.OwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Setup.Engagement_Flow_Configuration__c.Engagement_Cases_Queue_ID__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Specialization_Exists</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Assign Tier 1 to Support Level if NULL</description>
        <name>Assign_Tier_1</name>
        <label>Assign Tier 1</label>
        <locationX>1161</locationX>
        <locationY>1847</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Support_Level__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Tier 1</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Case_Type_Check</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>If we are unable to company size add the default here.</description>
        <name>Default_Company_Size</name>
        <label>Default Company Size</label>
        <locationX>1689</locationX>
        <locationY>971</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Company_Size__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Standard 5-24</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Default_Routing_Team</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>If we are unable to predict on persona add Admin Skill and Company size here.</description>
        <name>Default_Persona_Company_Size</name>
        <label>Default Persona &amp; Company Size</label>
        <locationX>2217</locationX>
        <locationY>755</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Persona__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Admin</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Company_Size__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Standard 5-24</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Default_Routing_Team</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Grower_25_49_Size</name>
        <label>Grower 25-49 Size</label>
        <locationX>897</locationX>
        <locationY>971</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Company_Size__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Grower 25-49</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Default_Routing_Team</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Grower_50_Size</name>
        <label>Grower 50 Size</label>
        <locationX>1425</locationX>
        <locationY>971</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Company_Size__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Grower 50</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Default_Routing_Team</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Member_Persona</name>
        <label>Member Persona</label>
        <locationX>1953</locationX>
        <locationY>755</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Persona__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Member</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatableCase.Company_Size__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Default_Routing_Team</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Micro_0_4_Size</name>
        <label>Micro 0-4 Size</label>
        <locationX>1161</locationX>
        <locationY>971</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Company_Size__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Micro 0-4</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Default_Routing_Team</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Standard_5_24_Size</name>
        <label>Standard 5-24 Size</label>
        <locationX>633</locationX>
        <locationY>971</locationY>
        <assignmentItems>
            <assignToReference>updatableCase.Company_Size__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Standard 5-24</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Default_Routing_Team</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Case_Re_routed</name>
        <label>Case Re-routed?</label>
        <locationX>1293</locationX>
        <locationY>2747</locationY>
        <defaultConnector>
            <targetReference>Validate_Skill_Routing_Fields</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Re_route</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Case_In_Route__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Forethought_Solve_Response</targetReference>
            </connector>
            <label>Re-route</label>
        </rules>
    </decisions>
    <decisions>
        <description>If Case Type is null populate this field with our default value of Payroll. 
If Case Type is not one of the restricted picklist values for Engagement, Payroll Care, or benefits Care update the Case type to our Default value.</description>
        <name>Case_Type_Check</name>
        <label>Case Type Check</label>
        <locationX>1293</locationX>
        <locationY>2039</locationY>
        <defaultConnector>
            <targetReference>RecordType_Engagement</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Type Populated</defaultConnectorLabel>
        <rules>
            <name>Type_NOT_Populated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Type</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Assign_Default_Type</targetReference>
            </connector>
            <label>Type NOT Populated</label>
        </rules>
        <rules>
            <name>Type_Outside_of_Restricted_Values</name>
            <conditionLogic>NOT (1)</conditionLogic>
            <conditions>
                <leftValueReference>$Setup.Engagement_Flow_Configuration__c.Accepted_Type_Values__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>$Record.Type</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Default_Type</targetReference>
            </connector>
            <label>Type Outside of Restricted Values</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Persona</name>
        <label>Check Persona</label>
        <locationX>1282</locationX>
        <locationY>3671</locationY>
        <defaultConnector>
            <targetReference>Get_Pillar_Mapping_with_Company_Size</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Memeber_Accountant</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Persona__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Accountant</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Persona__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Member</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Pillar_Mapping_WO_Company_Size</targetReference>
            </connector>
            <label>Memeber/Accountant</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Specialization_Mapping</name>
        <label>Check Specialization Mapping</label>
        <locationX>446</locationX>
        <locationY>4163</locationY>
        <defaultConnector>
            <targetReference>Update_Case_fields</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Persona_Mapping_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Persona_Mapping</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Persona_Pillar_Values</targetReference>
            </connector>
            <label>Persona Mapping Exists</label>
        </rules>
        <rules>
            <name>Company_Size_Mapping_Exisits</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Company_Size_Mapping</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Company_Size_Pillar_Values</targetReference>
            </connector>
            <label>Company Size Mapping Exisits</label>
        </rules>
        <rules>
            <name>Specialization_Mapping_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Specialization_Mapping</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Specialization_Pillar_Values</targetReference>
            </connector>
            <label>Specialization Mapping Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Cloned_Case</name>
        <label>Cloned Case?</label>
        <locationX>1172</locationX>
        <locationY>3179</locationY>
        <defaultConnector>
            <targetReference>Assign_Case_Owner</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Cloned_Case</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>blnNewClonedCase</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Specialization_Exists</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Company_Size_Assignment</name>
        <label>Company Size Assignment</label>
        <locationX>1161</locationX>
        <locationY>863</locationY>
        <defaultConnector>
            <targetReference>Default_Company_Size</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Standard_5_24</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account.Number_of_Active_Employees__c</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>5.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account.Number_of_Active_Employees__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>24.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Standard_5_24_Size</targetReference>
            </connector>
            <label>Standard 5-24</label>
        </rules>
        <rules>
            <name>Grower_25_49</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account.Number_of_Active_Employees__c</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>25.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account.Number_of_Active_Employees__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>49.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Grower_25_49_Size</targetReference>
            </connector>
            <label>Grower 25-49</label>
        </rules>
        <rules>
            <name>Micro_0_4</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account.Number_of_Active_Employees__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>4.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account.Number_of_Active_Employees__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Micro_0_4_Size</targetReference>
            </connector>
            <label>Micro 0-4</label>
        </rules>
        <rules>
            <name>Grower_50</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account.Number_of_Active_Employees__c</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>50.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Grower_50_Size</targetReference>
            </connector>
            <label>Grower 50</label>
        </rules>
    </decisions>
    <decisions>
        <description>Set Default Routing team based on persona, company size, Routing Case Reason, and Team value on case</description>
        <name>Default_Routing_Team</name>
        <label>Default Routing Team</label>
        <locationX>1293</locationX>
        <locationY>1247</locationY>
        <defaultConnector>
            <targetReference>Support_Level_NULL</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Routing Team Populated</defaultConnectorLabel>
        <rules>
            <name>Routing_Team_NOT_Populated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Routing_Team__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Default_Team</targetReference>
            </connector>
            <label>Routing Team NOT Populated</label>
        </rules>
    </decisions>
    <decisions>
        <description>What default value should be set based on Persona and Company Size.</description>
        <name>Default_Team</name>
        <label>Default Team</label>
        <locationX>1029</locationX>
        <locationY>1355</locationY>
        <defaultConnector>
            <targetReference>Assign_Routing_Team_Internal</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default</defaultConnectorLabel>
        <rules>
            <name>Admin_Micro</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>updatableCase.Persona__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Admin</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>updatableCase.Company_Size__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Micro 0-4</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Routing_team_external_micro</targetReference>
            </connector>
            <label>Admin Micro</label>
        </rules>
        <rules>
            <name>Member_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>updatableCase.Persona__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Member</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Routing_team_external_member</targetReference>
            </connector>
            <label>Member</label>
        </rules>
    </decisions>
    <decisions>
        <description>Checks to see if there a TAM present on account and Account is a reseller then route case to that TAM instead of Omni-Routing.</description>
        <name>Is_Case_TAM_present</name>
        <label>Is Case TAM present?</label>
        <locationX>864</locationX>
        <locationY>2963</locationY>
        <defaultConnector>
            <targetReference>Get_Owner_Record</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>(1 AND 2 AND 3) OR (4 AND 5 AND (6 OR 7) AND 8) OR (9 AND 10 AND 11)</conditionLogic>
            <conditions>
                <leftValueReference>updatableCase.Persona__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Accountant</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account.Technical_Account_Manager__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Reseller</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Company</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account.Technical_Account_Manager__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>updatableCase.Company_Size__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Grower 25-49</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>updatableCase.Company_Size__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Grower 50</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>updatableCase.Persona__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Admin</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account.CX_Experiment__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Project-GHR</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>updatableCase.Persona__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Admin</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account.Technical_Account_Manager__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_TAM_User_Record</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check TAM User is OOO or Active</description>
        <name>Is_TAM_Available</name>
        <label>Is TAM Available?</label>
        <locationX>556</locationX>
        <locationY>3179</locationY>
        <defaultConnector>
            <targetReference>Assign_TAM_Skill_and_Owner</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>TAM_Available_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_TAM_User_Record.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TAM_User_Record.Out_Of_Office__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_TAM_Present</targetReference>
            </connector>
            <label>TAM Available Yes</label>
        </rules>
        <rules>
            <name>TAM_OOO_and_Persona_Accountant</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>updatableCase.Persona__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Accountant</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_TAM_Accountant_Skill_and_Owner</targetReference>
            </connector>
            <label>TAM OOO and Persona Accountant</label>
        </rules>
    </decisions>
    <decisions>
        <description>if the case meets this criteria we will route this case through omni channel.</description>
        <name>Omni_Routing_Eligible_Check</name>
        <label>Omni Routing Eligible Check</label>
        <locationX>2316</locationX>
        <locationY>323</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Omni_Eligible</name>
            <conditionLogic>1 AND (2 OR 3 OR 4 OR (5 AND 6) OR (7 AND 8 AND 9) OR (15 AND 16) OR (( 6 OR 10 OR 11 OR 12 OR 14) AND 13))</conditionLogic>
            <conditions>
                <leftValueReference>blnOmniEligible</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Setup.Engagement_Flow_Configuration__c.Engagement_Cases_Queue_ID__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Support_Level__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Type</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Answer_IQ_Processed__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Answer_IQ_Processed__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Yes</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Solve_Processed__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.Solve_Processed__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Solve_Processed__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>BlnIsEngagementAlert</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Gusto Global</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Specialization__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>COBRA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>isNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Routed_through_Onboarding__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.Internal_AI_Processed__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Internal_AI_Processed__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Solve_and_Triage_Complete</targetReference>
            </connector>
            <label>Omni Eligible</label>
        </rules>
    </decisions>
    <decisions>
        <name>Persona_Assignment</name>
        <label>Persona Assignment</label>
        <locationX>1293</locationX>
        <locationY>647</locationY>
        <defaultConnector>
            <targetReference>Default_Persona_Company_Size</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Persona</defaultConnectorLabel>
        <rules>
            <name>Accountant</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Contact.ZP_User_Role__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Accountant</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Accountant_Persona</targetReference>
            </connector>
            <label>Accountant</label>
        </rules>
        <rules>
            <name>Admin</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Contact.ZP_User_Role__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Admin</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Contact.ZP_User_Role__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Signatory</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Admin_Persona</targetReference>
            </connector>
            <label>Admin</label>
        </rules>
        <rules>
            <name>Member</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Contact.ZP_User_Role__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Employee</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Contact.ZP_User_Role__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Contractor</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Member_Persona</targetReference>
            </connector>
            <label>Member</label>
        </rules>
    </decisions>
    <decisions>
        <name>Persona_Check</name>
        <label>Persona Check</label>
        <locationX>248</locationX>
        <locationY>3779</locationY>
        <defaultConnector>
            <targetReference>Get_Company_Size_Mapping</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Member_Accountant</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>updatableCase.Persona__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Accountant</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>updatableCase.Persona__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Member</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Persona_Mapping</targetReference>
            </connector>
            <label>Member/Accountant</label>
        </rules>
    </decisions>
    <decisions>
        <name>Pillar_Mapping_Exists</name>
        <label>Pillar Mapping Exists</label>
        <locationX>1282</locationX>
        <locationY>3971</locationY>
        <defaultConnector>
            <targetReference>Update_Case_fields</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Mapping_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Pillar_Mapping_WO_Company_Size</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Pillar_Values_WO_Company_Size</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
        <rules>
            <name>Yes_Copy</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Pillar_Mapping_with_Company_Size</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Pillar_Values</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <description>If Record Type is not Engagement Update to Engagement.</description>
        <name>RecordType_Engagement</name>
        <label>RecordType Engagement?</label>
        <locationX>1293</locationX>
        <locationY>2339</locationY>
        <defaultConnector>
            <targetReference>Assign_Case_In_Route_value</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>NOT_Engagement_RT</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordType.Id</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Setup.Engagement_Flow_Configuration__c.Engagement_RecordType_ID__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Engagement_RecordType</targetReference>
            </connector>
            <label>NOT Engagement RT</label>
        </rules>
    </decisions>
    <decisions>
        <description>Trigger Omni channel flow only if both Triage and Solve execution is complete</description>
        <name>Solve_and_Triage_Complete</name>
        <label>Solve and Triage Complete</label>
        <locationX>1887</locationX>
        <locationY>431</locationY>
        <defaultConnectorLabel>Not Complete</defaultConnectorLabel>
        <rules>
            <name>Complete</name>
            <conditionLogic>(1 AND 2 AND 9) OR 3 OR (4 AND 5) OR 6 OR 7 OR 8 OR 10</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Answer_IQ_Processed__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Yes</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Solve_Processed__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Case_In_Route__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Setup.Engagement_Flow_Configuration__c.Engagement_Cases_Queue_ID__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.OwnerId</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Gusto Global</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>BlnIsEngagementAlert</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Specialization__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>COBRA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Internal_AI_Processed__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Routed_through_Onboarding__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_initial_fields_values</targetReference>
            </connector>
            <label>Complete</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check if Specialization is present</description>
        <name>Specialization_Exists</name>
        <label>Specialization Exists</label>
        <locationX>864</locationX>
        <locationY>3563</locationY>
        <defaultConnector>
            <targetReference>Check_Persona</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Specialization_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>updatableCase.Specialization__c</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>updatableCase.Specialization__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Specialization_Exists_in_Custom_Label</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check if the Specialization is part of the list of values for which Company Size/Persona should be considered while mapping Pillar/Sub-Pillar.</description>
        <name>Specialization_Exists_in_Custom_Label</name>
        <label>Specialization Exists in Custom Label</label>
        <locationX>446</locationX>
        <locationY>3671</locationY>
        <defaultConnector>
            <targetReference>Get_Specialization_Mapping</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Label.Engagement_Specializations</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>updatableCase.Specialization__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Persona_Check</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <description>If Support_Level__c is not populated update the default Tier 1 value</description>
        <name>Support_Level_NULL</name>
        <label>Support Level NULL?</label>
        <locationX>1293</locationX>
        <locationY>1739</locationY>
        <defaultConnector>
            <targetReference>Case_Type_Check</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Support Level Populated</defaultConnectorLabel>
        <rules>
            <name>Support_Level_NOT_Populated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Support_Level__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Tier_1</targetReference>
            </connector>
            <label>Support Level NOT Populated</label>
        </rules>
    </decisions>
    <decisions>
        <name>Valid_Auto_Solve_Response</name>
        <label>Valid Auto-Solve Response</label>
        <locationX>1139</locationX>
        <locationY>3071</locationY>
        <defaultConnector>
            <targetReference>Validate_Skill_Routing_Fields</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Response_Exists</name>
            <conditionLogic>(1 AND 2) OR 3</conditionLogic>
            <conditions>
                <leftValueReference>Get_Forethought_Solve_Response</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Forethought_Solve_Response.forethought__EmailContentHTML__c</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Internal_Solve_Response</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Auto_Solve_Status</targetReference>
            </connector>
            <label>Response Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Validate_Skill_Routing_Fields</name>
        <label>Validate Skill Routing Fields</label>
        <locationX>1293</locationX>
        <locationY>2747</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Routing_Fields_Populated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>updatableCase.Type</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>updatableCase.Persona__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>updatableCase.Support_Level__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>updatableCase.Routing_Team__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_CaseInRoute_and_Status_Fields</targetReference>
            </connector>
            <label>Routing Fields Populated?</label>
        </rules>
    </decisions>
    <description>PLEASE make changes on top of this version going forward

- Adding TAM User OOO and Inactive check and route case to TAM skills
- Integrate with Solve
- BTE-4006 - Route QA Eligible Cases to QA Queue via Omni - Updated Logic
- Case Re-routes Scenario, GF Ticket No Case reason Fix
- BTE-4102 - Integrate Internal AI Solve
- BTE-4191 - Fix Route Through Onboarding scenarios</description>
    <environments>Default</environments>
    <formulas>
        <name>BlnIsEngagementAlert</name>
        <dataType>Boolean</dataType>
        <expression>ISPICKVAL({!$Record.Engagement_Alert__c}, 	&apos;General Alert&apos;)</expression>
    </formulas>
    <formulas>
        <description>Flow triggered for a New Cloned Case</description>
        <name>blnNewClonedCase</name>
        <dataType>Boolean</dataType>
        <expression>{!isNew} &amp;&amp; 
ISPICKVAL({!$Record.Status}, &apos;In Progress&apos;) &amp;&amp; 
{!$Record.Related_Case__c} &lt;&gt; null &amp;&amp; {!$Record.Related_Case__c} &lt;&gt; &apos;&apos; &amp;&amp;
NOT(ISPICKVAL({!$Record.Type}, &apos;Gusto Global&apos;)) &amp;&amp; 
NOT(ISPICKVAL({!$Record.Specialization__c}, &apos;Cobra&apos;))</expression>
    </formulas>
    <formulas>
        <description>Check for Omni eligible Record Types &amp; Origins</description>
        <name>blnOmniEligible</name>
        <dataType>Boolean</dataType>
        <expression>CONTAINS({!$Setup.Engagement_Flow_Configuration__c.Omni_Case_Record_Types__c} , {!$Record.RecordType.DeveloperName}) &amp;&amp;
OR(
({!$Record.Channel__c} != &apos;Phone&apos; &amp;&amp;
{!$Record.Channel__c} != &apos;Chat&apos; &amp;&amp;
NOT( CONTAINS( {!$Setup.Engagement_Flow_Configuration__c.ineligible_Origin_Channels__c}, TEXT( {!$Record.Origin} )))),
({!$Record.Channel__c} = &apos;Voicemail&apos; &amp;&amp; ISPICKVAL({!$Record.Origin}, &apos;Phone&apos;))
)</expression>
    </formulas>
    <formulas>
        <description>Prior Owner is Active or Out Of Office check</description>
        <name>blnPriorOwnerActiveStatus</name>
        <dataType>Boolean</dataType>
        <expression>OR(NOT({!Get_Owner_Record.IsActive}), {!Get_Owner_Record.Out_Of_Office__c},{!$Record.Trigger_Omni_Flow__c})</expression>
    </formulas>
    <formulas>
        <name>isNew</name>
        <dataType>Boolean</dataType>
        <expression>ISNEW()</expression>
    </formulas>
    <formulas>
        <description>Check if case origin is Email or Chat</description>
        <name>strCaseOrigin</name>
        <dataType>String</dataType>
        <expression>IF(
  (ISPICKVAL({!$Record.Origin}, &apos;Email&apos;) || {!$Record.Channel__c} = &apos;Email&apos;), 
  &apos;Email&apos;, 
  IF(
    (ISPICKVAL({!$Record.Origin}, &apos;Chat&apos;) || {!$Record.Channel__c} = &apos;Chat&apos;),
    &apos;Chat&apos;,
    &apos;&apos;
  )
)</expression>
    </formulas>
    <interviewLabel>Omni Skill Assignment {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Omni Skill Assignment</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_Company_Size_Mapping</name>
        <label>Get Company Size Mapping</label>
        <locationX>380</locationX>
        <locationY>3887</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Specialization_Mapping</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Case_Origin__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>strCaseOrigin</elementReference>
            </value>
        </filters>
        <filters>
            <field>Specialization__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>updatableCase.Specialization__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Persona__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>updatableCase.Persona__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Company_Size__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>updatableCase.Company_Size__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case_Pillar_Mapping__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Forethought_Solve_Response</name>
        <label>Get Forethought Solve Response</label>
        <locationX>1139</locationX>
        <locationY>2855</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Internal_Solve_Response</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>forethought__Case__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>forethought__EmailResponseName__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>forethought__ForethoughtSolveEmailConversation__c</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>forethought__EmailContentHTML__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Internal_Solve_Response</name>
        <label>Get Internal Solve Response</label>
        <locationX>1139</locationX>
        <locationY>2963</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Valid_Auto_Solve_Response</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Case__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Valid_Request__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>valid_request</stringValue>
            </value>
        </filters>
        <filters>
            <field>Return_Response__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>True</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>InternalAISolveEmailConversation__c</object>
        <queriedFields>Id</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Get Prior Owner Active and Out Of Office details</description>
        <name>Get_Owner_Record</name>
        <label>Get Owner Record</label>
        <locationX>1172</locationX>
        <locationY>3071</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Cloned_Case</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record__Prior.OwnerId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>User</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>IsActive</queriedFields>
        <queriedFields>Out_Of_Office__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Persona_Mapping</name>
        <label>Get Persona Mapping</label>
        <locationX>116</locationX>
        <locationY>3887</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Specialization_Mapping</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Case_Origin__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>strCaseOrigin</elementReference>
            </value>
        </filters>
        <filters>
            <field>Specialization__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>updatableCase.Specialization__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Persona__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>updatableCase.Persona__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case_Pillar_Mapping__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Fetch case pillar mappings with company size</description>
        <name>Get_Pillar_Mapping_with_Company_Size</name>
        <label>Get Pillar Mapping with Company Size</label>
        <locationX>1414</locationX>
        <locationY>3779</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Pillar_Mapping_Exists</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Case_Origin__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>strCaseOrigin</elementReference>
            </value>
        </filters>
        <filters>
            <field>Case_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>updatableCase.Type</elementReference>
            </value>
        </filters>
        <filters>
            <field>Company_Size__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>updatableCase.Company_Size__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Persona__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>updatableCase.Persona__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Support_Level__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>updatableCase.Support_Level__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case_Pillar_Mapping__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Fetch case pillar mappings without company size</description>
        <name>Get_Pillar_Mapping_WO_Company_Size</name>
        <label>Get Pillar Mapping WO Company Size</label>
        <locationX>1150</locationX>
        <locationY>3779</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Pillar_Mapping_Exists</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Case_Origin__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>strCaseOrigin</elementReference>
            </value>
        </filters>
        <filters>
            <field>Case_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>updatableCase.Type</elementReference>
            </value>
        </filters>
        <filters>
            <field>Persona__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>updatableCase.Persona__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Support_Level__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>updatableCase.Support_Level__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case_Pillar_Mapping__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Specialization_Mapping</name>
        <label>Get Specialization Mapping</label>
        <locationX>644</locationX>
        <locationY>3779</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Specialization_Mapping</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Case_Origin__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>strCaseOrigin</elementReference>
            </value>
        </filters>
        <filters>
            <field>Specialization__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>updatableCase.Specialization__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case_Pillar_Mapping__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Get TAM User Active and Out Of Office details</description>
        <name>Get_TAM_User_Record</name>
        <label>Get TAM User Record</label>
        <locationX>556</locationX>
        <locationY>3071</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_TAM_Available</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Account.Technical_Account_Manager__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>User</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>IsActive</queriedFields>
        <queriedFields>Out_Of_Office__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Updated_Case_fields</name>
        <label>Get Updated Case fields</label>
        <locationX>864</locationX>
        <locationY>4655</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Call_Omni_Sub_Flow</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Case_fields</name>
        <label>Update Case fields</label>
        <locationX>864</locationX>
        <locationY>4547</locationY>
        <connector>
            <targetReference>Get_Updated_Case_fields</targetReference>
        </connector>
        <inputReference>updatableCase</inputReference>
    </recordUpdates>
    <start>
        <locationX>2190</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Omni_Routing_Eligible_Check</targetReference>
        </connector>
        <filterFormula>(
(
NOT(ISNEW()) &amp;&amp;
(
((ISPICKVAL({!$Record__Prior.Status},&apos;Open&apos;) &amp;&amp; ISPICKVAL({!$Record.Status},&apos;In Progress&apos;)) ||
(ISPICKVAL({!$Record__Prior.Solve_Processed__c},&apos;&apos;) &amp;&amp; NOT(ISPICKVAL({!$Record.Solve_Processed__c},&apos;&apos;))) ||
(ISPICKVAL({!$Record__Prior.Internal_AI_Processed__c},&apos;&apos;) &amp;&amp; NOT(ISPICKVAL({!$Record.Internal_AI_Processed__c},&apos;&apos;))) ||
{!$Record.Case_In_Route__c} == true) ||
({!$Record.OwnerId} != {!$Record__Prior.OwnerId} &amp;&amp; CASESAFEID({!$Record.OwnerId}) == {!$Setup.Engagement_Flow_Configuration__c.Engagement_Cases_Queue_ID__c})
) &amp;&amp;
NOT(ISPICKVAL({!$Record.Status},&apos;Closed&apos;)) &amp;&amp;
NOT(TEXT({!$Record.Routing_Case_Reason_Classification__r.Auto_Email_Behavior__c}) == &apos;Send&apos; &amp;&amp; {!$Record.Agatha_Confidence__c} &gt;= (100 * {!$Record.Routing_Case_Reason_Classification__r.Confidence_Threshold__c}) &amp;&amp;   ISPICKVAL({!$Record.Status},&apos;Awaiting Response&apos;)) &amp;&amp;
NOT(ISPICKVAL({!$Record.Account.CX_Experiment__c},&apos;TAM&apos;))
) ||
(
ISNEW() &amp;&amp;
NOT(ISPICKVAL({!$Record.Status},&apos;Closed&apos;)) &amp;&amp;
(
ISPICKVAL({!$Record.Type},&apos;Gusto Global&apos;) ||
ISPICKVAL({!$Record.Specialization__c},&apos;Cobra&apos;) ||
{!$Record.Routed_through_Onboarding__c} ||
(ISPICKVAL({!$Record.Answer_IQ_Processed__c},&apos;Yes&apos;) &amp;&amp; NOT(ISPICKVAL({!$Record.Solve_Processed__c},&apos;&apos;)) &amp;&amp; NOT(ISPICKVAL({!$Record.Internal_AI_Processed__c},&apos;&apos;))) ||
NOT(ISBLANK(TEXT({!$Record.Engagement_Alert__c})))
)
)
)</filterFormula>
        <object>Case</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Obsolete</status>
    <subflows>
        <description>To call omni channel routing flow</description>
        <name>Call_Omni_Sub_Flow</name>
        <label>Call Omni Sub Flow</label>
        <locationX>864</locationX>
        <locationY>4763</locationY>
        <flowName>Omni_Vendor_OOS_Flow</flowName>
        <inputAssignments>
            <name>blnDefaultPriorityOneRouting</name>
            <value>
                <elementReference>blnPriorOwnerActiveStatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>blnPriorityOneWOSkills</name>
            <value>
                <elementReference>blnNewClonedCase</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>blnRouteToTam</name>
            <value>
                <elementReference>blnTAMPresent</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>BoolCaseInRoute</name>
            <value>
                <elementReference>IsCaseInRoute</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>CaseRecord</name>
            <value>
                <elementReference>Get_Updated_Case_fields</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>IsEngagementAlert</name>
            <value>
                <elementReference>BlnIsEngagementAlert</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <triggerOrder>700</triggerOrder>
    <variables>
        <name>blnTAMPresent</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Boolean to check whether case was re- routed</description>
        <name>IsCaseInRoute</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>updatableCase</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case</objectType>
    </variables>
</Flow>
