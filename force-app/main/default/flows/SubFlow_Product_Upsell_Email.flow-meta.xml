<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Betterment_Interest_Email_Alert</name>
        <label>Betterment Interest Email Alert</label>
        <locationX>842</locationX>
        <locationY>566</locationY>
        <actionName>Partnership_Interest__c.Betterment_Interest_Email_Alert</actionName>
        <actionType>emailAlert</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>RecordId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Partnership_Interest__c.Betterment_Interest_Email_Alert</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Email_Alert_for_Bench</name>
        <label>Email Alert for Bench</label>
        <locationX>314</locationX>
        <locationY>458</locationY>
        <actionName>Partnership_Interest__c.Accountant_Interest</actionName>
        <actionType>emailAlert</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>RecordId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Partnership_Interest__c.Accountant_Interest</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <description>Call invocable apex class to call Guideline API.</description>
        <name>Send_Product_Upsell_to_Guideline</name>
        <label>Send Product Upsell to Guideline</label>
        <locationX>578</locationX>
        <locationY>566</locationY>
        <actionName>SendProductUpsellToExternalPartner</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>idRecord</name>
            <value>
                <elementReference>Get_Product_Upsell_Record.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>strAPIName</name>
            <value>
                <elementReference>varGuidelineAPIName</elementReference>
            </value>
        </inputParameters>
        <nameSegment>SendProductUpsellToExternalPartner</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <description>Call invocable apex class to call HumanInterest API.</description>
        <name>Send_Product_Upsell_to_HumanInterest</name>
        <label>Send Product Upsell to HumanInterest</label>
        <locationX>1106</locationX>
        <locationY>566</locationY>
        <actionName>SendProductUpsellToExternalPartner</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>idRecord</name>
            <value>
                <elementReference>Get_Product_Upsell_Record.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>strAPIName</name>
            <value>
                <elementReference>varHIAPIName</elementReference>
            </value>
        </inputParameters>
        <nameSegment>SendProductUpsellToExternalPartner</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <description>Call invocable apex class to call NEXTInsurance API.</description>
        <name>Send_Product_Upsell_to_NEXTInsurance</name>
        <label>Send Product Upsell to NEXTInsurance</label>
        <locationX>50</locationX>
        <locationY>350</locationY>
        <actionName>SendProductUpsellToExternalPartner</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>idRecord</name>
            <value>
                <elementReference>Get_Product_Upsell_Record.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>strAPIName</name>
            <value>
                <elementReference>varNextAPIName</elementReference>
            </value>
        </inputParameters>
        <nameSegment>SendProductUpsellToExternalPartner</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <description>Call invocable apex class to call Remote API.</description>
        <name>Send_Product_Upsell_to_Remote</name>
        <label>Send Product Upsell to Remote</label>
        <locationX>1634</locationX>
        <locationY>566</locationY>
        <actionName>SendProductUpsellToExternalPartner</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>idRecord</name>
            <value>
                <elementReference>Get_Product_Upsell_Record.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>strAPIName</name>
            <value>
                <elementReference>varRemoteAPIName</elementReference>
            </value>
        </inputParameters>
        <nameSegment>SendProductUpsellToExternalPartner</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Vestwell_Email_Alert</name>
        <label>Vestwell Email Alert</label>
        <locationX>1370</locationX>
        <locationY>566</locationY>
        <actionName>Partnership_Interest__c.Vestwell_Email_Alert</actionName>
        <actionType>emailAlert</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>RecordId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Partnership_Interest__c.Vestwell_Email_Alert</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <apiVersion>55.0</apiVersion>
    <decisions>
        <name>Rule_for_X401k_Interest</name>
        <label>401k Interest</label>
        <locationX>1238</locationX>
        <locationY>458</locationY>
        <defaultConnectorLabel>Default</defaultConnectorLabel>
        <rules>
            <name>X401k_Interest_Guideline</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Product_Upsell_Record.Interest_401K__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Guideline</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Product_Upsell_Record.Interest_401K__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>objRecordOld.Interest_401K__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Product_Upsell_to_Guideline</targetReference>
            </connector>
            <label>401k Interest Guideline</label>
        </rules>
        <rules>
            <name>X401k_Interest_Betterment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Product_Upsell_Record.Interest_401K__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Betterment</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Product_Upsell_Record.Interest_401K__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>objRecordOld.Interest_401K__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Betterment_Interest_Email_Alert</targetReference>
            </connector>
            <label>401k Interest Betterment</label>
        </rules>
        <rules>
            <name>X401k_Human_Interest</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Product_Upsell_Record.Interest_401K__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Human Interest</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Product_Upsell_Record.Interest_401K__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>objRecordOld.Interest_401K__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Product_Upsell_to_HumanInterest</targetReference>
            </connector>
            <label>401k Human Interest</label>
        </rules>
        <rules>
            <name>X401k_Vestwell</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Product_Upsell_Record.Interest_401K__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Vestwell</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Product_Upsell_Record.Interest_401K__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>objRecordOld.Interest_401K__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Vestwell_Email_Alert</targetReference>
            </connector>
            <label>401k Vestwell</label>
        </rules>
        <rules>
            <name>Gusto_Global_Remote_Lead_Pass</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Product_Upsell_Record.Product_Interest__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Employer of Record</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Product_Upsell_Record.Product_Interest_Countries__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>objRecordOld.Product_Interest_Countries__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Product_Upsell_to_Remote</targetReference>
            </connector>
            <label>Gusto Global Remote Lead Pass</label>
        </rules>
    </decisions>
    <decisions>
        <name>Run_for_Accounting_Partner</name>
        <label>Accounting Partner</label>
        <locationX>776</locationX>
        <locationY>350</locationY>
        <defaultConnector>
            <targetReference>Rule_for_X401k_Interest</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Accounting Partner not Set</defaultConnectorLabel>
        <rules>
            <name>Accounting_Partner_Bench</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Product_Upsell_Record.Accounting_Partner__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Bench</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Product_Upsell_Record.Accounting_Partner__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>objRecordOld.Accounting_Partner__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Email_Alert_for_Bench</targetReference>
            </connector>
            <label>Accounting Partner Bench</label>
        </rules>
    </decisions>
    <decisions>
        <name>Run_for_AP_Intego_Interest</name>
        <label>AP Intego Interest</label>
        <locationX>413</locationX>
        <locationY>242</locationY>
        <defaultConnector>
            <targetReference>Run_for_Accounting_Partner</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Workers Comp Interest not Set</defaultConnectorLabel>
        <rules>
            <name>Workers_Comp_Interest_Set</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Product_Upsell_Record.Workers_Comp_Interest__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Product_Upsell_Record.Workers_Comp_Interest__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>objRecordOld.Workers_Comp_Interest__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Product_Upsell_to_NEXTInsurance</targetReference>
            </connector>
            <label>Workers Comp Interest is Set</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <interviewLabel>SubFlow: Product Upsell Email {!$Flow.CurrentDateTime}</interviewLabel>
    <label>SubFlow: Product Upsell Email</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_Product_Upsell_Record</name>
        <label>Get Product Upsell Record</label>
        <locationX>413</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Run_for_AP_Intego_Interest</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>RecordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Partnership_Interest__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <start>
        <locationX>287</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_Product_Upsell_Record</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>objRecordOld</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Partnership_Interest__c</objectType>
    </variables>
    <variables>
        <name>RecordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Variable to store Guideline API name.</description>
        <name>varGuidelineAPIName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>guideline</stringValue>
        </value>
    </variables>
    <variables>
        <description>Variable to store HumanInterest API name.</description>
        <name>varHIAPIName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>humanInterest</stringValue>
        </value>
    </variables>
    <variables>
        <description>Variable used to store name for NEXTInsurance API.</description>
        <name>varNextAPIName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>nextInsurance</stringValue>
        </value>
    </variables>
    <variables>
        <description>Variable to store Remote API name.</description>
        <name>varRemoteAPIName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>remote</stringValue>
        </value>
    </variables>
</Flow>
