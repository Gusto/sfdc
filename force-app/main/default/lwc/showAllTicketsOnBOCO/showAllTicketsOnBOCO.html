<template>
    <article class="slds-card">
        <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center slds-has-flexi-truncate" style="margin-top: 7px;margin-bottom: 7px;">
                <div class="slds-media__figure">
                    <lightning-avatar src="/assets/icons/custom-sprite/svg/symbols.svg#custom49" initials=""
                        fallback-icon-name="custom:custom49" alternative-text="Tickets"
                        class="slds-m-right_small"></lightning-avatar>
                </div>
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title">
                        <a href="#" class="slds-card__header-link slds-truncate" title="Tickets">
                            <span>Tickets</span>
                        </a>
                    </h2>
                </div>
            </header>
        </div>
        <div class="slds-card__body">
            <template if:false={isNoTicket}>
                <div style="margin: 2px; margin-top: 0px">
                    <lightning-datatable key-field="Id" data={paginatedData} columns={columns} hide-checkbox-column>
                    </lightning-datatable>
                </div>
            </template>
            <template if:true={isNoTicket}>
                <div style="margin: 2px; margin-top: 0px">
                    <lightning-datatable key-field="Id" data={paginatedData} columns={columns} hide-checkbox-column>
                    </lightning-datatable>
                </div>
                <div class="slds-align_absolute-center" style="height:5rem">No records to displays</div>
            </template>
        </div>
        <div slot="footer">
            <template if:true={tickets}>
                <template if:true={showBar}>
                    <div style="background: rgb(243, 243, 243);height:auto;margin-top:6px;"
                        class="slds-align_absolute-center">
                        <div class="slds-grid" style="height:2.5em;float: right;">
                            <button class="slds-button" role="previous" onclick={handleNavigate}>
                                <span> Show More..</span>
                            </button>
                        </div>
                    </div>
                </template>
            </template>
            <template if:true={isLoading}>
                <lightning-spinner alternative-text="Loading"></lightning-spinner>
            </template>
            <template if:true={error}>
                <div class="slds-text-color_error">{error}</div>
            </template>
        </div>
    </article>
</template>